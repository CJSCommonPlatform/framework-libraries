dist: trusty
sudo: false
language: java
jdk:
- oraclejdk8
git:
  depth: 3
cache:
  directories:
  - "$HOME/.m2"
addons:
  sonarcloud:
    organization: cjscommonplatform
    token:
      secure: gGl/PRF2E+b2Dh9uplRdQYafkJdpAI0pvpeuPeoEQB71blxiWqIDzLM4XQ4nolhyiSyOtrss98BfZqYlV77+0tgCfA8a5Xr7FxrNA7sNwOmp0x+supU4Lgoe5UU3WsYrJFYh+y5DSr1H/yCtHkXHABSerAtOI6SfQCoZzliLrfVN1nWN9pHNAaNDgu+pu2A8pQOzA8/LzsASvvv1sTl8zaXJKR67xVN4vzF3cmMDC6BiFxCwmlxgjIKQ1mjYcYgV35q4tFprpxeHMB8cR700xqITvmumuf1nW3qDQkurB/u64+yYmEs+EUzM1og2f+PKUM1KOpChKP3HL8di2i8EDJ9lR0ZsMyLLhCaXlCGJmjt2lPuh7t1d0FzB/DDRmiq4boMzfw7kGISv3H5omzEoMyfFHvkUumaKJxdnGfC+3BE0SsA7blkS05rEFVPKVoSpc8+oerbhEK7SyvEtjc4R8ISZonMILBi4muNAVJqF00epgdESSnQQoSgxMzFkgqrJD5Nb+lwIHdrmNjnVgTDqS9ZO9E3jXLTcSfpFbWuftchQpv+Njhn6YYdj2ID3SIjcinwx3nlTHGhD1uLAilDSlQoT9x/hpSCtQBDh8D/WWybte80Ll+jzJmGeA0ntNGFXKsMYPs1WwwLHnHNTbOkq5C98kYNvKX3onXRUAR6Es3A=
    github_token:
      secure: hIYGAtqn6CulvN7kQgXQgVUYZLUpgHRSoF4gAkAYg4X+QqhJ8yrIruc+Q3ssCOmYJmEwzHrtmvJxo6X2fzlPRLX73VoiV0BXnee4Z3/FnvorFefzsGSebMJTA44jkzFQmuX1dbDYvpx/QikQ+jhUyUW1MFDZGhTdPi6fg7G/234sqRtP4ZIVUzuu+gNs/yHdrp49Lv1jNwRIjxCp3q5BWJiQt5X313ifHMYSGojo9/h7ux34JwSZJ7bDdQm6xd1oamYICZK6HDpUVj7f4GFJX4ll2qrCPtXSk+G1qZJbPS3I613876LJROPidJidYNpW7ea4yOJCKOXGEHlrKi5Qb2EAroWE43M+j2Tz8sVldDTQUvOWZylQVTnyUnQYvGjgyXlKtdFdtfAddiSYsIyJ3/3AW8x12zvdFNWQ3y7aanvK0G20aDroQDOrPCStsiDuCdzM9E3sa3OqIC+HezKibG1lSNv6cFHagPAUm1xoBSi6S5feLrbqjbgnz7sp3o9wodZ1aXhtKjlPM4oGpj2/pIeILSeLMMBqOgjOysbZjBEQNr2AN/CG78L08Sa0Dxyn1/CnKVD895sfnRDKaYABQ8U0S8/QtE/I7QVnUepJsdq05odc0jxAt7bdSDN3LEP+Tx7QjeFtryUEAItodsu4AeZO/m28dF18/YWF7g2Ifoc=
before_install:
- git clone https://github.com/CJSCommonPlatform/travis-settings.git target/travis-settings
- ln -sfT ${PWD}/target/travis-settings/settings.xml ${HOME}/.m2/settings.xml
install: "${PWD}/target/travis-settings/java/install.sh -DexcludeGroupIds=uk.gov.justice.services"
script: "${PWD}/target/travis-settings/java/script-install.sh coveralls:report sonar:sonar"
after_success: "${PWD}/target/travis-settings/java/after_success.sh"
env:
  global:
  - secure: poOUoYT/5FmZXH2jbERYHlSxiRKqYH6orBtyfcc8QAg45WlotfAG5xqmGt+R+tjR9irj69K9ojeuy6EhxpSVr1Pc2Bwj1aXO+pb6910svIccC6VDflUzjXwRdgBU1VcqBPnWn1RR1/i6kYfd/W9+6II0yQHs98V/XXpT1Tq0QPD+ZeRrv9tVuo+iTVOi672olO3+CMA/SNmNWKcaXRzsNm6BtfD02NQPgj+EDEZASEx01HNemyvp1va4mY3BGiGdzkra0QSPv0uObmE7ovtUcfxYs9Rh5PEglQWxtiQBTqlF91VPvs0CEwgHGgYMlqnGXHfUI0U9vyz55Z5qreTDiukFvuHWT0OE0vJAFYvdqGt/T1bjwUvGPBhOt4UBH9CkJDsPkg/j2JBVEaVDzjkO8DKmMzVkFOkkSlTfZF5U1UvrhyPBXb0G+h77+XpL2QaA3ixItTww8ruz7Ky1fj0U74CcB4OGBczz6ZOeTx9gno5E/hrHxWhDlOEeVqbVdQMJ4PQdqYNvJWL6jr/NIkAGRyrqvf/C5lI1NfPqS/NM6q1x6GmbNxgDsSU17Pc5kkEWTdKhDg2nF41wjTT5/JIbsiUaCC4xNizvvk4Qa4t1L4y3+f1xIi3zoF9SzkAGQZnqZbJYHmfCasmyGvM74nRnmVuMsrX39KRo+Pr8/ctpoNw=
  - secure: KwrFTEuWNC3PvEzjq2YgFmnytU7nuk9+RhzQznRaYSF8Aw45+0TqrhaSj6xOncshIYAZ8ITlsXO4SYNiqyzJ89vBFGCDu2QYM2VzR+adEfo2USL4IczqmYSkGPFSmef6hccaxEADt5GxmfrLzleLhr6lSPJyOugL5h1mLXyQGZbnLtVwefoxumGI5Ob9Fl2nSTSM61C/i6XMfxgrhRKKDW8T5IgvO4FVes2bFI/gPBOLyRrR1EmUQr8UewPu6ilRa00MT5sZASZzYE53XrNlusrtpFj5RdE+v7HbXztkF6Y8wFD7Ht9tq4xm4h/RoDO+Xf5X2uaNrZBiovHStnQoiOYS4v7raKV6V0nmKv6JNc1xAtLjVGPqer4YQ0Qp1BJqzz4UXZeeIK5EQNF+3NIQyT2diNhOY4Objhf0qloxMSM7o7c6FjK2lxTZ8iT3kRDuT8wRuXK0OzOut9QCLFxicFwpNsGiEUec9s4odLMKYVGQGJaN8Ruo5Cm/F6RXYzGNzsplt29lCaJWhjGn2gznUguMRi6odFqJTdkWeuHQQ+rQi1khGYGEMzSiXQbmFWtTK4rjntUt9VfkwUFufV9C5OfdkuFkN+ctshuu0HCPcZ8HZJicc8ULQFH19CPWlj9b8J0jgDeNtpXxjxqUy7x7Wu3KvZ6Uj3520ezvZAZ4YTo=
